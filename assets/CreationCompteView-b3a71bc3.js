import{_ as y,b as a,d as k,c as u,a as e,t as _,w as b,v as f,o as d,p as C,e as S}from"./index-1eed1a31.js";import{C as E}from"./pocketbase.es-2eb1282e.js";const v=r=>(C("data-v-2d5eb7a7"),r=r(),S(),r),N={class:"flex flex-col justify-center items-center w-full h-screen bg-gradient-to-br from-[#ee7752] via-[#e73c7e] to-[#23a6d5] animate-gradient"},V={class:"flex items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-white bg-opacity-10 backdrop-blur-md rounded-xl"},A={class:"w-full max-w-md space-y-8"},I={key:0},L={key:1},U={class:"text-white font-bold"},M={class:"sm:col-span-2 sm:col-start-1 mt-4"},j=v(()=>e("label",{for:"username",class:"block text-sm font-medium leading-6 text-white"},"Email Address",-1)),B={class:"mt-2"},D={class:"sm:col-span-2 sm:col-start-1 mt-2"},T=v(()=>e("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Mot de passe",-1)),O={class:"mt-2"},P={key:0},W={class:"sm:col-span-2 sm:col-start-1 mt-2"},$={key:1},z={class:"sm:col-span-2 sm:col-start-1 mt-2"},F=v(()=>e("label",{for:"fullName",class:"block text-sm font-medium leading-6 text-white"},"Nom",-1)),G={class:"mt-2"},R={class:"sm:col-span-2 sm:col-start-1 mt-2"},q={__name:"CreationCompteView",setup(r){let s=null;const c=a(),l=a(""),n=a(""),p=a(""),m=a(!0);k(async()=>{s=new E("http://tavue.kujundzic.fr"),s.authStore.onChange(()=>{c.value=s.authStore.model},!0)});const w=()=>{s.authStore.clear(),c.value=null},g=async()=>{try{const o=await s.collection("users").authWithPassword(l.value,n.value);console.log(s.authStore.isValid),console.log(s.authStore.token),console.log(s.authStore.model)}catch(o){alert(o.message)}},x=async()=>{try{const o={username:l.value,email:l.value,emailVisibility:!0,password:n.value,passwordConfirm:n.value,name:p.value},t=await s.collection("users").create(o);await g()}catch(o){alert(o.message)}};return(o,t)=>{var h;return d(),u("div",N,[e("div",V,[e("div",A,[c.value?(d(),u("div",I,[e("h1",null,"Welcome "+_((h=c.value)==null?void 0:h.name),1),e("div",null,[e("button",{type:"button",onClick:w,class:"rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Logout")])])):(d(),u("div",L,[e("h1",U,_(m.value?"LOGIN":"CREATE ACCOUNT"),1),e("div",M,[j,e("div",B,[b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>l.value=i),type:"text",name:"username",id:"username",autocomplete:"none",placeholder:"Enter Email Address ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[f,l.value]])])]),e("div",D,[T,e("div",O,[b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>n.value=i),type:"password",name:"password",id:"password",autocomplete:"none",placeholder:"Enter Password ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[f,n.value]])])]),m.value?(d(),u("div",P,[e("div",W,[e("button",{type:"button",onClick:g,class:"mr-3 rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Login"),e("button",{type:"button",onClick:t[2]||(t[2]=i=>m.value=!1),class:"rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"CrÃ©er Compte")])])):(d(),u("div",$,[e("div",z,[F,e("div",G,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>p.value=i),type:"text",name:"fullName",id:"fullName",autocomplete:"none",placeholder:"Enter Full Name ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[f,p.value]])])]),e("div",R,[e("button",{type:"button",onClick:x,class:"mr-3 rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Enregistrer nouvel utilisateur"),e("button",{type:"button",onClick:t[4]||(t[4]=i=>m.value=!0),class:"rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600"},"Annuler ")])]))]))])])])}}},K=y(q,[["__scopeId","data-v-2d5eb7a7"]]);export{K as default};
