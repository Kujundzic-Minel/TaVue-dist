import{_ as x,b as m,d as y,c as a,a as e,t as h,w as p,v as b,o as u,p as k,e as C}from"./index-4f8ef2a9.js";import{C as N}from"./pocketbase.es-2eb1282e.js";const f=d=>(k("data-v-ba665bd3"),d=d(),C(),d),S={class:"flex flex-col justify-center items-center w-full h-screen bg-gradient-to-br from-[#ee7752] via-[#e73c7e] to-[#23a6d5] animate-gradient"},E={class:"flex items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-white bg-opacity-10 backdrop-blur-md rounded-xl"},V={class:"w-full max-w-md space-y-8"},A={key:0},I={key:1},L={class:"text-white font-bold"},U={class:"sm:col-span-2 sm:col-start-1 mt-4"},M=f(()=>e("label",{for:"username",class:"block text-sm font-medium leading-6 text-white"},"Email Address",-1)),j={class:"mt-2"},B={class:"sm:col-span-2 sm:col-start-1 mt-2"},D=f(()=>e("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Mot de passe",-1)),T={class:"mt-2"},O={key:0},P={class:"sm:col-span-2 sm:col-start-1 mt-2"},W={key:1},$={class:"sm:col-span-2 sm:col-start-1 mt-2"},z=f(()=>e("label",{for:"fullName",class:"block text-sm font-medium leading-6 text-white"},"Nom",-1)),F={class:"mt-2"},G={class:"sm:col-span-2 sm:col-start-1 mt-2"},R={__name:"CreationCompteView",setup(d){let l=null;const r=m(""),n=m(""),i=m(""),c=m(!0);y(async()=>{const o=new N("http://tavue.kujundzic.fr");o.authStore.onChange(()=>{r.value=o.authStore.model},!0)});const w=()=>{l.authStore.clear(),r.value=null},v=async()=>{try{const o=await l.collection("users").authWithPassword(n.value,i.value);console.log(l.authStore.isValid),console.log(l.authStore.token),console.log(l.authStore.model)}catch(o){alert(o.message)}},_=async()=>{try{await l.collection("users").create({email:n.value,password:i.value,passwordConfirm:i.value,name:fullName.value})}catch{n.value="",i.value="",fullName.value=""}await v()};return(o,t)=>{var g;return u(),a("div",S,[e("div",E,[e("div",V,[r.value?(u(),a("div",A,[e("h1",null,"Welcome "+h((g=r.value)==null?void 0:g.name),1),e("div",null,[e("button",{type:"button",onClick:w,class:"rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Logout")])])):(u(),a("div",I,[e("h1",L,h(c.value?"LOGIN":"CREATE ACCOUNT"),1),e("div",U,[M,e("div",j,[p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),type:"text",name:"username",id:"username",autocomplete:"none",placeholder:"Enter Email Address ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[b,n.value]])])]),e("div",B,[D,e("div",T,[p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.value=s),type:"password",name:"password",id:"password",autocomplete:"none",placeholder:"Enter Password ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[b,i.value]])])]),c.value?(u(),a("div",O,[e("div",P,[e("button",{type:"button",onClick:v,class:"mr-3 rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Login"),e("button",{type:"button",onClick:t[2]||(t[2]=s=>c.value=!1),class:"rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"CrÃ©er Compte")])])):(u(),a("div",W,[e("div",$,[z,e("div",F,[p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.fullName=s),type:"text",name:"fullName",id:"fullName",autocomplete:"none",placeholder:"Enter Full Name ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[b,o.fullName]])])]),e("div",G,[e("button",{type:"button",onClick:_,class:"mr-3 rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Enregistrer nouvel utilisateur"),e("button",{type:"button",onClick:t[4]||(t[4]=s=>c.value=!0),class:"rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600"},"Annuler ")])]))]))])])])}}},J=x(R,[["__scopeId","data-v-ba665bd3"]]);export{J as default};
