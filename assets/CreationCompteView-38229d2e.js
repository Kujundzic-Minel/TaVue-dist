import{r as n,o as w,c as a,a as e,t as v,w as p,v as b,b as r}from"./index-6506b3b7.js";import{C as y}from"./pocketbase.es-2eb1282e.js";const _={class:"flex flex-col justify-center items-center w-full h-screen bg-gradient-to-br from-[#ee7752] via-[#e73c7e] to-[#23a6d5] animate-gradient"},k={class:"flex items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-white bg-opacity-10 backdrop-blur-md rounded-xl"},C={key:0},E={key:1},N={class:"text-white font-bold"},S={class:"sm:col-span-2 sm:col-start-1 mt-4"},U=e("label",{for:"username",class:"block text-sm font-medium leading-6 text-white"},"Email Address",-1),V={class:"mt-2"},A={class:"sm:col-span-2 sm:col-start-1 mt-2"},L=e("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password",-1),D={class:"mt-2"},B={key:0},M={class:"sm:col-span-2 sm:col-start-1 mt-2"},P={key:1},T={class:"sm:col-span-2 sm:col-start-1 mt-2"},$=e("label",{for:"fullName",class:"block text-sm font-medium leading-6 text-white"},"Nom",-1),j={class:"mt-2"},I={class:"sm:col-span-2 sm:col-start-1 mt-2"},G={__name:"CreationCompteView",setup(O){let o=null;const u=n(),d=n(""),l=n(""),m=n(""),c=n(!0);w(async()=>{o=new y("http://127.0.0.1:8090"),o.authStore.onChange(()=>{u.value=o.authStore.model},!0)});const h=()=>{o.authStore.clear(),u.value=null},f=async()=>{try{const s=await o.collection("users").authWithPassword(d.value,l.value);console.log(o.authStore.isValid),console.log(o.authStore.token),console.log(o.authStore.model)}catch(s){alert(s.message)}},x=async()=>{try{const s={username:`user_${self.crypto.randomUUID().split("-")[0]}`,email:d.value,emailVisibility:!0,password:l.value,passwordConfirm:l.value,name:m.value},t=await o.collection("users").create(s);await f()}catch(s){alert(s.message)}};return(s,t)=>{var g;return r(),a("div",_,[e("div",k,[u.value?(r(),a("div",C,[e("h1",null,"Welcome "+v((g=u.value)==null?void 0:g.name),1),e("div",null,[e("button",{type:"button",onClick:h,class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Logout")])])):(r(),a("div",E,[e("h1",N,v(c.value?"LOGIN":"CREATE ACCOUNT"),1),e("div",S,[U,e("div",V,[p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>d.value=i),type:"text",name:"username",id:"username",autocomplete:"none",placeholder:"Enter Email Address ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[b,d.value]])])]),e("div",A,[L,e("div",D,[p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>l.value=i),type:"password",name:"password",id:"password",autocomplete:"none",placeholder:"Enter Password ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[b,l.value]])])]),c.value?(r(),a("div",B,[e("div",M,[e("button",{type:"button",onClick:f,class:"mr-3 rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Login"),e("button",{type:"button",onClick:t[2]||(t[2]=i=>c.value=!1),class:"rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"CrÃ©er Compte")])])):(r(),a("div",P,[e("div",T,[$,e("div",j,[p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>m.value=i),type:"text",name:"fullName",id:"fullName",autocomplete:"none",placeholder:"Enter Full Name ",class:"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-white focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6 bg-white bg-opacity-10 backdrop-blur-md"},null,512),[[b,m.value]])])]),e("div",I,[e("button",{type:"button",onClick:x,class:"mr-3 rounded-md bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600"},"Enregistrer nouvel utilisateur"),e("button",{type:"button",onClick:t[4]||(t[4]=i=>c.value=!0),class:"rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600"},"Annuler ")])]))]))])])}}};export{G as default};
